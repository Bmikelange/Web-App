--vous vous mettez dans la base de donn√© par defaut de posgres

DROP TABLE IF EXISTS PROFESSOR_LESSON CASCADE;
DROP TABLE IF EXISTS PRESENCE_RECORD CASCADE;
DROP TABLE IF EXISTS PROFESSOR;
DROP TABLE IF EXISTS STUDENT;
DROP TABLE IF EXISTS SECRETARY;
DROP TABLE IF EXISTS LESSON;

CREATE TABLE STUDENT
(
	STUDENT_ID VARCHAR(255) PRIMARY KEY,
	PASSWORD VARCHAR(255) NOT NULL,
	NAME VARCHAR(255),
	FIRST_NAME VARCHAR(255),
	CLASS VARCHAR(255)
);

CREATE TABLE SECRETARY
(
	SECRET_ID VARCHAR(255) PRIMARY KEY,
	PASSWORD VARCHAR(255) NOT NULL,
	NAME VARCHAR(255),
	FIRST_NAME VARCHAR(255)
);

CREATE TABLE PROFESSOR
(
	PROF_ID VARCHAR(255) PRIMARY KEY,
	PASSWORD VARCHAR(255) NOT NULL,
	NAME VARCHAR(255),
	FIRST_NAME VARCHAR(255)
);

CREATE TABLE LESSON
(
	LESSON_ID VARCHAR(255) PRIMARY KEY,
	DATE DATE,
	DURATION INTEGER NOT NULL,
	NAME VARCHAR(255)
);

CREATE TABLE PRESENCE_RECORD
(
	LESSON_ID VARCHAR(255) REFERENCES LESSON(LESSON_ID),
	PRESENCE BOOLEAN,
	STUDENT_ID VARCHAR(255) REFERENCES STUDENT(STUDENT_ID),
	PRIMARY KEY (LESSON_ID, STUDENT_ID)	
);

CREATE TABLE PROFESSOR_LESSON
(
	PROF_ID VARCHAR(255),
 	FOREIGN KEY (PROF_ID) REFERENCES PROFESSOR (PROF_ID),
	LESSON_ID VARCHAR(255),
 	FOREIGN KEY (LESSON_ID ) REFERENCES LESSON (LESSON_ID),
	PRIMARY KEY (PROF_ID, LESSON_ID)
);

INSERT INTO STUDENT (STUDENT_ID,PASSWORD,NAME,FIRST_NAME,CLASS)
VALUES ('11508726', 'mikado','Barros','Mikel-ange','M1-info');

INSERT INTO STUDENT (STUDENT_ID,PASSWORD,NAME,FIRST_NAME,CLASS)
VALUES ('11509726', 'que20','Nom','Kevin','M1-info');

INSERT INTO STUDENT (STUDENT_ID,PASSWORD,NAME,FIRST_NAME,CLASS)
VALUES ('11508556', 'zac','Nom','Zacharia','M1-info');

INSERT INTO STUDENT (STUDENT_ID,PASSWORD,NAME,FIRST_NAME,CLASS)
VALUES ('11508966', 'thomas','Scouflair','Thomas','M1-info');

INSERT INTO STUDENT (STUDENT_ID,PASSWORD,NAME,FIRST_NAME,CLASS)
VALUES ('11508566', 'eyosyas','Abebe','Eyosyas','M1-info');

INSERT INTO STUDENT (STUDENT_ID,PASSWORD,NAME,FIRST_NAME,CLASS)
VALUES ('11508416', 'vico','Nom','Victor','M2-TIW');

INSERT INTO STUDENT (STUDENT_ID,PASSWORD,NAME,FIRST_NAME,CLASS)
VALUES ('11508746', 'victor','Sandre','Victor','M2-SRIV');

INSERT INTO LESSON (LESSON_ID,DATE,DURATION,NAME)
VALUES ('2618', '2019-11-26',2,'Multimif');

INSERT INTO LESSON (LESSON_ID,DATE,DURATION,NAME)
VALUES ('2615', '2019-11-25',4,'Mif03');

INSERT INTO LESSON (LESSON_ID,DATE,DURATION,NAME)
VALUES ('2612', '2019-11-30',2,'Mif04');

INSERT INTO LESSON (LESSON_ID,DATE,DURATION,NAME)
VALUES ('2609', '2020-01-30',6,'Enfin');

INSERT INTO PROFESSOR (PROF_ID,PASSWORD,NAME,FIRST_NAME)
VALUES ('5050', 'please','Medini','Lionel');

INSERT INTO PROFESSOR (PROF_ID,PASSWORD,NAME,FIRST_NAME)
VALUES ('5051', 'Bonjour','Coquery','Emmanuel');

INSERT INTO SECRETARY (SECRET_ID,PASSWORD,NAME,FIRST_NAME)
VALUES ('512', 'Secret','Gent','Josephine');

INSERT INTO PROFESSOR_LESSON(PROF_ID,LESSON_ID)
VALUES ('5050', '2609');

INSERT INTO PROFESSOR_LESSON(PROF_ID,LESSON_ID)
VALUES ('5050', '2615');

INSERT INTO PROFESSOR_LESSON(PROF_ID,LESSON_ID)
VALUES ('5051', '2618');

INSERT INTO PROFESSOR_LESSON(PROF_ID,LESSON_ID)
VALUES ('5051', '2612');

INSERT INTO PRESENCE_RECORD(LESSON_ID,PRESENCE,STUDENT_ID)
VALUES ('2609',false, '11509726');

INSERT INTO PRESENCE_RECORD(LESSON_ID,PRESENCE,STUDENT_ID)
VALUES ('2609',false, '11508726');

INSERT INTO PRESENCE_RECORD(LESSON_ID,PRESENCE,STUDENT_ID)
VALUES ('2609',false, '11508966');

INSERT INTO PRESENCE_RECORD(LESSON_ID,PRESENCE,STUDENT_ID)
VALUES ('2612',false, '11509726');

INSERT INTO PRESENCE_RECORD(LESSON_ID,PRESENCE,STUDENT_ID)
VALUES ('2612',false, '11508966');

INSERT INTO PRESENCE_RECORD(LESSON_ID,PRESENCE,STUDENT_ID)
VALUES ('2615',false, '11508416');

INSERT INTO PRESENCE_RECORD(LESSON_ID,PRESENCE,STUDENT_ID)
VALUES ('2615',false, '11508746');

INSERT INTO PRESENCE_RECORD(LESSON_ID,PRESENCE,STUDENT_ID)
VALUES ('2618',false, '11508556');

INSERT INTO PRESENCE_RECORD(LESSON_ID,PRESENCE,STUDENT_ID)
VALUES ('2618',false, '11508566');

